<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

        <script src="https://d3js.org/d3.v7.min.js"></script>
        <script src="https://unpkg.com/cal-heatmap/dist/cal-heatmap.min.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/cal-heatmap/dist/cal-heatmap.css">
        <script src="https://unpkg.com/@popperjs/core@2"></script>
        <script src="https://unpkg.com/cal-heatmap/dist/plugins/Tooltip.min.js"></script>
        <script src="https://unpkg.com/cal-heatmap/dist/plugins/CalendarLabel.min.js"></script>
    </head>
    <body>
        <div id="cal-heatmap"></div>
    <script>
        const challengeData = [
            { date: '2025-09-01', value: 1 },
            { date: '2025-09-02', value: 1 },
            { date: '2025-09-03', value: 1 },
            { date: '2025-09-04', value: 1 },
            { date: '2025-09-05', value: 1 },
            { date: '2025-09-06', value: 1 },
            { date: '2025-09-07', value: 1 },
            { date: '2025-09-08', value: 1 },
            { date: '2025-09-09', value: 1 },
            { date: '2025-09-10', value: 1 },
            { date: '2025-09-11', value: 1 },
            { date: '2025-09-12', value: 1 },
            { date: '2025-09-13', value: 1 },
            { date: '2025-09-14', value: 1 },
            { date: '2025-09-15', value: 1 },
            { date: '2025-09-16', value: 1 },
            { date: '2025-09-17', value: 1 },
            { date: '2025-09-18', value: 1 },
            { date: '2025-09-19', value: 1 },
            { date: '2025-09-20', value: 1 },
            { date: '2025-09-21', value: 1 },
            { date: '2025-09-22', value: 1 },
            { date: '2025-09-23', value: 1 },
            { date: '2025-09-24', value: 1 },
            { date: '2025-09-25', value: 1 },
            { date: '2025-09-26', value: 1 },
        ];
        $(document).ready(function(){
            const cal = new CalHeatmap();
            cal.paint({
                    data: {
                    source: challengeData,
                    x: 'date',
                    y: 'value',
                    groupY: 'max',
                    },
                    date: { start: new Date('2025-09-01') },
                    range: 12,
                    scale: {
                        color: {
                            type: 'threshold',
                            range: ['#14432a', '#166b34', '#37a446', '#4dd05a'],
                            domain: [1, 2, 3],
                        },
                    },
                    domain: {
                        type: 'month',
                        gutter: 4,
                        label: { text: 'MMM', textAlign: 'start', position: 'top' },
                    },
                    subDomain: { type: 'ghDay', radius: 2, width: 11, height: 11, gutter: 4 },
                },
                [
                    [
                        Tooltip,
                        {
                            text: function (date, value, dayjsDate) {
                            return (
                            (value ? value : 'No') +
                            ' challenge done ' +
                            dayjsDate.format('dddd, MMMM D, YYYY')
                            );
                            },
                        },
                    ],
                    [
                        CalendarLabel,
                        {
                            width: 30,
                            textAlign: 'start',
                            text: () => dayjs.weekdaysShort().map((d, i) => (i % 2 == 0 ? '' : d)),
                            padding: [25, 0, 0, 0],
                        },
                    ],
                ]
            );
        });
    </script>
    </body>
</html>
